.. _modules:

*******************************
Дополнительные модули
*******************************

.. index:: отчёт для техподдержки, модуль создания отчётов
.. _modules-reporter:

Модуль создания отчётов для техподдержки
==========================================

Данный модуль предназначен для полностью автоматического создания отчётов для официальной службы поддержки Valve, либо неофициальной поддержки различных форумов.

Работать с данным плагином очень просто:

 * в меню **Инструменты** выберите пункт **Создание отчёта для Техподдержки** или просто нажмите клавишу **F12** на клавиатуре;
 * нажмите на кнопку **Создать отчёт** и через некоторое время (от 30 секунд до нескольких минут в зависимости от производительности системы) вы увидите созданный файл в Проводнике Windows.

Для создания отчётов используется стандартная оснастка MSInfo и другие утилиты, входящие в состав Microsoft Windows. В отчёт будет включена следующая информация:

 * компьютере и комплектующих, запущенных процессах, установленном ПО;
 * сетевых маршрутах данного компьютера;
 * замеры потерь пакетов до серверов Valve;
 * замеры пинга до серверов Valve;
 * трассировка прохождения сетевых пакетов до серверов Steam;
 * конфиги управляемой игры;
 * краш-дампы управляемой игры и Steam;
 * содержимое файла Hosts.

.. index:: обновление, центр обновлений, модуль установки обновлений
.. _modules-updater:

Модуль обновления программы
==========================================

Вызывается из меню **Справка** - **Проверить наличие обновлений**. Предназначен для быстрого обновления баз данных поддерживаемых игр, HUD, конфигов, а также самого приложения. По умолчанию быстрая проверка наличия обновлений приложения выполняется 1 раз в неделю при запуске программы и может быть отключена :ref:`в настройках <settings-advanced>`.

Обновления баз данных загружаются из репозитория целиком, затем копируются в каталог установки. Обновления приложения загружаются в виде дистрибутива новой версии и все действия по обновлению уже установленного ПО выполняются непосредственно им.

При обнаружении обновлений будет предложено установить их. Для этого просто щёлкните левой кнопкой мыши по нужной строке. Все остальные действия будут произведены автоматически.

Если SRC Repair была установлена глобально для всех пользователей системы в каталог **%PROGRAMFILES%**, либо иное место, где у текущего пользователя нет прав на запись, то для установки обновлений потребуются права администратора.

.. index:: быстрая установка, модуль быстрой установки
.. _modules-installer:

Модуль быстрой установки
==========================================

Данный модуль позволяет легко и быстро установить в выбранную в главном окне SRC Repair игру следующий контент:

 * **спреи** (файлы **\*.vtf**);
 * **демки** (файлы **\*.dem**);
 * **конфиги** (файлы **\*.cfg**);
 * **карты** (файлы **\*.bsp**);
 * **игровые пакеты** (файлы **\*.vpk**);
 * **бинарные плагины** (файлы **\*.dll**);
 * **звуки попадания** по противнику (файлы **killsound.wav** или **hitsound.wav**);
 * **игровые архивы** (файлы файлы **\*.zip**).

Для запуска установки просто нажмите кнопку **Найти** и укажите на диске нужный файл (не забудьте в пункте **Тип файлов** указать что именно планируете установить в игру), выберите его и нажмите **Открыть**. Теперь можете нажать кнопку **Установить** для запуска процесса. Выбранный файл будет установлен и программа сообщит вам о результате.

Внимание! Игровые архивы могут быть установлены только в игры, перешедшие на новую систему контента. Установка производится в пользовательский каталог. Не устанавливайте непроверенные файлы и конфиги в игру, т.к. это может привести к неприятным последствиям.

.. index:: редактор Hosts, файл Hosts, модуль редактирования Hosts
.. _modules-mhed:

Модуль редактирования файла Hosts
==========================================

Это простой и быстрый редактор файла hosts, основанный на нашем проекте `Micro Hosts Editor <https://www.easycoding.org/projects/mhed>`_. Позволяет легко и быстро редактировать, добавлять и удалять значения в файле hosts пользователю с любым уровнем подготовки. Начиная с версии 32.0 не входит в комплект поставки SRC Repair, но может быть загружен и установлен с официального сайта, из `раздела загрузок <https://www.easycoding.org/download>`_.

Если в вашем файле hosts находится что-то ещё, кроме строки **127.0.0.1 localhost** (начиная с Windows 8 её может не быть), удалите эти строки вручную, либо выберите в меню **Дополнительно** пункт **Восстановить стандартные значения**. Не забудьте сохранить изменения в файле кнопкой **Сохранить изменения**, либо нажать на клавиатуре **Ctrl+S**.

В меню **Дополнительно** вы также можете открыть файл hosts для редактирования в системном текстовом редакторе по умолчанию с помощью одноимённого пункта. Используйте этот пункт только если вы уверены в том, что делаете.

Для работы этого модуля необходимы права локального администратора. При их отсутствии он будет работать в режиме только для чтения.

.. index:: отключение системных клавиш, модуль отключения системных клавиш
.. _modules-kbd:

Модуль отключения системных клавиш
==========================================

Большинство игроков раздражает случайное нажатие клавиши Windows на клавиатуре, т.к. игра при этом свёртывается, а на восстановление требуется достаточно длительное время. Некоторые даже удаляют её физически с клавиатуры. Теперь это не требуется. С помощью данного модуля вы можете отключить обе клавиши Windows и клавишу Menu (Context), которая также вызывает свёртывание игры и вызов контекстного меню окна.

Допустимые действия:

 * **отключить левую WIN** — отключает левую клавишу Windows, правая остаётся работоспособной;
 * **отключить обе WIN** — отключает одновременно и левую, и правую клавиши Windows;
 * **отключить правую WIN и MENU** — отключает правую клавишу Windows и клавишу Menu (Context); левая при этом остаётся работоспособной;
 * **отключить обе WIN и MENU** — отключает обе клавиши Windows и Menu (Context);
 * **вернуть стандартные настройки** — отменяет настройки, сделанные плагином и возвращает настройки Windows по умолчанию.

Для работы этого модуля необходимы права локального администратора. Модуль отключения системных клавиш поддерживает только ОС Microsoft Windows.

.. index:: управление отключёнными игроками, модуль управления отключёнными игроками
.. _modules-mute:

Модуль управления отключёнными игроками
==========================================

Данный модуль предназначен для простого и быстрого управления базой данных игнорируемых игроков (тем, кому отключён голосовой и/или текстовый чат внутри игры).

Чтобы добавить новую строку просто начинайте набирать текст в последней пустой строке программы. Допускается ввод SteamID в форматах SteamID32 (устаревший) и SteamIDv3 (современный). В модуле присутствует штатная функция конвертирования SteamID из старого формата в новый. Для этого просто выберите строку и нажмите кнопку **Преобразовать SteamID**.

Чтобы удалить активную строку, нажмите кнопку **Удалить строку** на панели инструментов редактора или клавишу **Delete** на клавиатуре компьютера. Присутствует возможность удаления сразу нескольких строк. Для этого выделите их мышью, либо с помощью клавиатуры.

При нажатии на кнопку **Показать профиль Steam** профиль выбранного в ячейке пользователя будет загружен в используемом по умолчанию веб-браузере.

Чтобы сохранить изменения, нажмите кнопку **Сохранить** на панели инструментов. Если включена безопасная очистка, то будет автоматически создана резервная копия.

.. index:: модуль очистки
.. _modules-cleanup:

Модуль очистки
==========================================

Данный модуль не может вызываться непосредственно пользователем. Его используют другие механизмы приложения, в частности инструменты с вкладки :ref:`Устранение проблем и очистка <cleanup-wizard>`, а также :ref:`модуль расширенной очистки Steam <modules-stmcln>`.

Главное окно модуля очистки отображает отмеченные для удаления файлы. В зависимости от вида очистки и заданного в главном окне режиме безопасности, они могут как помечаться автоматически.

Все файлы, отмеченные флажком около имени, будут удалены *без возможности восстановления* если вы запустите очистку посредством нажатия кнопки **Выполнить очистку**. Если передумали, нажмите кнопку **Отмена**. В таком случае никаких действий предпринято не будет.

Если вы хотите, чтобы перед удалением была создана резервная копия, в настройках программы установите флажок в чекбокс **Создавать бэкап перед запуском очистки**. Создание резервной копии может занять много времени (зависит от количества и размера удаляемых файлов). Созданную резервную копию вы сможете восстановить на странице :ref:`Резервные копии <backups-restore>`.

В главном окне модуля очистки доступны следующие клавиатурные комбинации:

 * **Ctrl + A** - отметить все файлы;
 * **Ctrl + D** - снять отметку со всех файлов;
 * **Ctrl + R** - инвертировать выделение;
 * **Ctrl + C** - скопировать имена выделенных файлов с полными путями в буфер обмена.

Прогресс поиска кандидатов на удаление, работы модуля, а также примерное количество места, которое может быть освобождено на диске после завершения процедуры очистки, отображаются в строке статуса.

.. index:: очистка Steam, кэши Steam, модуль расширенной очистки Steam
.. _modules-stmcln:

Модуль расширенной очистки кэшей Steam
==========================================

Данный модуль предназначен для простой и быстрой очистки различных кэшей Steam, в которых накапливаются десятки гигабайт никому не нужных файлов. Рекомендуется производить запуск данного модуля не реже, чем раз в две недели для поддержания чистоты на диске.

Для начала работы сначала следует выбрать один или несколько чекбоксов, после чего нажать кнопку **Запустить очистку**. Далее вы увидите окно :ref:`модуля очистки <modules-cleanup>`.

Доступные опции очистки:

 * очистка кэшей:
 
   * **HTML кэш клиента и оверлея Steam** - кэш встроенного в клиент Steam и игровой оверлей веб-браузера на базе Chromium Embedded Framework;
   * **HTTP кэш клиента Steam** - HTTP кэш клиента с различными заголовками и метаддаными;
   * **depot кэш клиента Steam** - кэш частично загруженных игр и обновлений;
   * **кэш шейдеров клиента Steam** - кэш загруженных или сгенерированных на клиенте шейдеров;
 
 * базовая очистка:
 
   * **журналы работы клиента Steam** - все найденные журналы работы клиента (файды **\*.log**);
   * **старые бинарники Steam** - все предыдущие и уже не актуальные версии бинарников и лаунчеров клиента (файлы **\*.old**);
   * **краш-дампы клиента Steam** - все созданные клиентом и запущенными играми краш-дампы (файлы **\*.dmp** и **\*.mdmp**);
   * **временный каталог обновлений игр** - всё содержимое временного каталога, в котором подготавливаются обновления к установке;
 
 * улучшенная очистка:
 
   * **кэшированные значки игр** - кэш значков игр из текущей Библиотеки Steam;
   * **локальное зеркало Steam Cloud** - содержимое локальной копии облачного хранилища клиента;
   * **локальная игровая статистика** - локальный дамп с файлами игровой статистики некоторых игр, допускающих её изменение в оффлайновом режиме;
   * **база данных сервиса Steam Music** - локальная база данных музыкального сервиса;
   * **кастомные скины Steam** - все установленные нестандартные обложки Steam;
 
 * специальные виды очистки:
 
   * **очистка обновлений Steam** - локальный кэш с эталонными файлами клиента и различных модулей;
   * **очистка кэша Steam Guard** - удаление файлов с авторизацией пользователя.

